<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaaS Suite | Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <nav class="dashboard-nav glass">
        <div class="logo">SAAS SUITE</div>
        <div class="user-badge glass">
            <span class="dot"></span>
            <span>{{ user.get('email', 'User') }}</span>
            <a href="{{ url_for('logout') }}"
                style="color: var(--primary); text-decoration: none; margin-left: 1rem; font-weight: 600;">Logout</a>
        </div>
    </nav>

    <main class="main-content">
        <header>
            <h1>Welcome back, {{ user.get('name', 'User') }} ğŸ‘‹</h1>
            <p style="color: var(--text-muted); margin-top: 0.5rem;">Select an application to launch.</p>
        </header>

        <section class="app-grid">
            <!-- App 1: Schedules -->
            <a href="http://localhost:5000" class="app-card glass">
                <div class="app-icon">ğŸ“…</div>
                <div class="app-title">Schedules & Covers</div>
                <div class="app-desc">Manage teacher schedules, leave requests, and substitution assignments.</div>
            </a>

            <!-- App 2: Behavior -->
            <a href="http://localhost:4000" class="app-card glass">
                <div class="app-icon">ğŸ›¡ï¸</div>
                <div class="app-title">Behavior Management</div>
                <div class="app-desc">Track incidents, suspensions, and student behavior records.</div>
            </a>

            <!-- App 3: Absence Tracker -->
            <a href="http://localhost:4001" class="app-card glass">
                <div class="app-icon">ğŸ¥</div>
                <div class="app-title">Absence Tracker</div>
                <div class="app-desc">Log absences, sick leaves, and manage excuses for teachers.</div>
            </a>

            {% if 'platform_super_admin' in user.get('roles', []) %}
            <!-- Admin Tool -->
            <a href="/admin" class="app-card glass" style="border-style: dashed;">
                <div class="app-icon" style="background: rgba(99, 102, 241, 0.1); color: #6366f1;">âš™ï¸</div>
                <div class="app-title">Platform Admin</div>
                <div class="app-desc">Manage tenants, users, apps, and global platform settings.</div>
            </a>
            {% endif %}
        </section>
    </main>
</body>

</html>