{% extends "base.html" %}

{% block content %}
<div class="space-y-6">
  <section class="rounded-3xl border border-slate-200 bg-white p-6 shadow">
    <div>
      <p class="text-xs uppercase tracking-[0.3em] text-slate-400">Leaderboard</p>
      <h1 class="text-3xl font-semibold text-slate-900">Teacher coverage rankings</h1>
      <p class="mt-2 text-sm text-slate-500">See which teachers have performed the most covers, then drill into any name to review the absences they managed.</p>
    </div>
  </section>

  <section class="rounded-3xl border border-slate-200 bg-white p-6 shadow">
    {% if entries %}
    <div class="overflow-auto">
      <table class="min-w-full text-sm text-slate-600">
        <thead class="bg-slate-50 text-xs uppercase tracking-[0.3em] text-slate-400">
          <tr>
            <th class="px-4 py-3 text-left">Teacher</th>
            <th class="px-4 py-3 text-left">Subject</th>
            <th class="px-4 py-3 text-left">Grade level</th>
            <th class="px-4 py-3 text-left">Level label</th>
            <th class="px-4 py-3 text-left">Total covers</th>
          </tr>
        </thead>
        <tbody>
          {% for entry in entries %}
          <tr class="border-t border-slate-100 text-xs">
            <td class="px-4 py-3 font-semibold text-slate-900">
              {% if entry.slug %}
              <a href="{{ url_for('leaderboard_detail', slug=entry.slug) }}" class="hover:text-slate-700">{{ entry.name }}</a>
              {% else %}
              {{ entry.name }}
              {% endif %}
            </td>
            <td class="px-4 py-3">{{ entry.subject }}</td>
            <td class="px-4 py-3">{{ entry.grade_display }}</td>
            <td class="px-4 py-3">{{ entry.level_label }}</td>
            <td class="px-4 py-3 font-semibold text-slate-900">{{ entry.total_covers }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-sm text-slate-500">No cover assignments have been recorded yet.</p>
    {% endif %}
  </section>
</div>
{% endblock %}
